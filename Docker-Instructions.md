
# FAANG VS MANA Corpus Peer Review Instructions
​
*Welcome to our team's project. The goal of our corpus was to scrape posts from various finance-related subreddits to see if there is any correlation between the post's sentiment and the respective stock price.*
​

# Instructions for dockerization and navigation
Team 3: Alex, Daniel, Kristian, Yuqian

### Download the dockerimage tar file
1. Download the image file[ here](https://drive.google.com/file/d/13MUO0GXBDBXFfBgTzQrck9A9usAlVQ0I/view?usp=sharing) from `GROUP3` 
folder in Google drive using the shared account provided in milestone4.md. <br>

## build our docker image 
Navigate to the folder where the tar was downloaded <br>
then execute `docker load -i colx-team-3-latest.tar.gz` from the terminal

## kill all running containers
First make sure that all ports are free and no other containers are running by running: <br>
`docker kill $(docker ps -q)`
from the terminal <br>

## Run our docker image 
Run our docker image via `docker run -p 9999:9999 colx-team-3` 
now wait patiently as elasticsearch constructs a corpus of ~10000k reddit posts.
This shouldn't take more than 5 minutes.

The index and webpage have been successfully loaded if this message is printed from the terminal: 
```
creating index
created index
updating index
index stats
{'_shards': {'total': 2, 'successful': 1, 'failed': 0}, '_all': {'primaries': {'docs': {'count': 4838, 'deleted': 0}, 'store': {'size_in_bytes': 5802503, 'reserved_in_bytes': 0}, 'indexing': {'index_total': 9849, 'index_time_in_millis': 3676, 'index_current': 0, 'index_failed': 0, 'delete_total': 0, 'delete_time_in_millis': 0, 'delete_current': 0, 'noop_update_total': 0, 'is_throttled': False, 'throttle_time_in_millis': 0}, 'get': {'total': 0, 'time_in_millis': 0, 'exists_total': 0, 'exists_time_in_millis': 0, 'missing_total': 0, 'missing_time_in_millis': 0, 'current': 0}, 'search': {'open_contexts': 0, 'query_total': 0, 'query_time_in_millis': 0, 'query_current': 0, 'fetch_total': 0, 'fetch_time_in_millis': 0, 'fetch_current': 0, 'scroll_total': 0, 'scroll_time_in_millis': 0, 'scroll_current': 0, 'suggest_total': 0, 'suggest_time_in_millis': 0, 'suggest_current': 0}, 'merges': {'current': 0, 'current_docs': 0, 'current_size_in_bytes': 0, 'total': 2, 'total_time_in_millis': 913, 'total_docs': 3322, 'total_size_in_bytes': 3316977, 'total_stopped_time_in_millis': 0, 'total_throttled_time_in_millis': 0, 'total_auto_throttle_in_bytes': 20971520}, 'refresh': {'total': 30, 'total_time_in_millis': 975, 'external_total': 30, 'external_total_time_in_millis': 998, 'listeners': 0}, 'flush': {'total': 0, 'periodic': 0, 'total_time_in_millis': 0}, 'warmer': {'current': 0, 'total': 29, 'total_time_in_millis': 3}, 'query_cache': {'memory_size_in_bytes': 0, 'total_count': 0, 'hit_count': 0, 'miss_count': 0, 'cache_size': 0, 'cache_count': 0, 'evictions': 0}, 'fielddata': {'memory_size_in_bytes': 0, 'evictions': 0}, 'completion': {'size_in_bytes': 0}, 'segments': {'count': 10, 'memory_in_bytes': 28392, 'terms_memory_in_bytes': 20800, 'stored_fields_memory_in_bytes': 4944, 'term_vectors_memory_in_bytes': 0, 'norms_memory_in_bytes': 1280, 'points_memory_in_bytes': 0, 'doc_values_memory_in_bytes': 1368, 'index_writer_memory_in_bytes': 5355924, 'version_map_memory_in_bytes': 711562, 'fixed_bit_set_memory_in_bytes': 0, 'max_unsafe_auto_id_timestamp': -1, 'file_sizes': {}}, 'translog': {'operations': 9849, 'size_in_bytes': 9230983, 'uncommitted_operations': 9849, 'uncommitted_size_in_bytes': 9230983, 'earliest_last_modified_age': 33}, 'request_cache': {'memory_size_in_bytes': 0, 'evictions': 0, 'hit_count': 0, 'miss_count': 0}, 'recovery': {'current_as_source': 0, 'current_as_target': 0, 'throttle_time_in_millis': 0}}, 'total': {'docs': {'count': 4838, 'deleted': 0}, 'store': {'size_in_bytes': 5802503, 'reserved_in_bytes': 0}, 'indexing': {'index_total': 9849, 'index_time_in_millis': 3676, 'index_current': 0, 'index_failed': 0, 'delete_total': 0, 'delete_time_in_millis': 0, 'delete_current': 0, 'noop_update_total': 0, 'is_throttled': False, 'throttle_time_in_millis': 0}, 'get': {'total': 0, 'time_in_millis': 0, 'exists_total': 0, 'exists_time_in_millis': 0, 'missing_total': 0, 'missing_time_in_millis': 0, 'current': 0}, 'search': {'open_contexts': 0, 'query_total': 0, 'query_time_in_millis': 0, 'query_current': 0, 'fetch_total': 0, 'fetch_time_in_millis': 0, 'fetch_current': 0, 'scroll_total': 0, 'scroll_time_in_millis': 0, 'scroll_current': 0, 'suggest_total': 0, 'suggest_time_in_millis': 0, 'suggest_current': 0}, 'merges': {'current': 0, 'current_docs': 0, 'current_size_in_bytes': 0, 'total': 2, 'total_time_in_millis': 913, 'total_docs': 3322, 'total_size_in_bytes': 3316977, 'total_stopped_time_in_millis': 0, 'total_throttled_time_in_millis': 0, 'total_auto_throttle_in_bytes': 20971520}, 'refresh': {'total': 30, 'total_time_in_millis': 975, 'external_total': 30, 'external_total_time_in_millis': 998, 'listeners': 0}, 'flush': {'total': 0, 'periodic': 0, 'total_time_in_millis': 0}, 'warmer': {'current': 0, 'total': 29, 'total_time_in_millis': 3}, 'query_cache': {'memory_size_in_bytes': 0, 'total_count': 0, 'hit_count': 0, 'miss_count': 0, 'cache_size': 0, 'cache_count': 0, 'evictions': 0}, 'fielddata': {'memory_size_in_bytes': 0, 'evictions': 0}, 'completion': {'size_in_bytes': 0}, 'segments': {'count': 10, 'memory_in_bytes': 28392, 'terms_memory_in_bytes': 20800, 'stored_fields_memory_in_bytes': 4944, 'term_vectors_memory_in_bytes': 0, 'norms_memory_in_bytes': 1280, 'points_memory_in_bytes': 0, 'doc_values_memory_in_bytes': 1368, 'index_writer_memory_in_bytes': 5355924, 'version_map_memory_in_bytes': 711562, 'fixed_bit_set_memory_in_bytes': 0, 'max_unsafe_auto_id_timestamp': -1, 'file_sizes': {}}, 'translog': {'operations': 9849, 'size_in_bytes': 9230983, 'uncommitted_operations': 9849, 'uncommitted_size_in_bytes': 9230983, 'earliest_last_modified_age': 33}, 'request_cache': {'memory_size_in_bytes': 0, 'evictions': 0, 'hit_count': 0, 'miss_count': 0}, 'recovery': {'current_as_source': 0, 'current_as_target': 0, 'throttle_time_in_millis': 0}}}, 'indices': {'reddit': {'uuid': '3bcc6luiTsqgIdScOxokCQ', 'primaries': {'docs': {'count': 4838, 'deleted': 0}, 'store': {'size_in_bytes': 5802503, 'reserved_in_bytes': 0}, 'indexing': {'index_total': 9849, 'index_time_in_millis': 3676, 'index_current': 0, 'index_failed': 0, 'delete_total': 0, 'delete_time_in_millis': 0, 'delete_current': 0, 'noop_update_total': 0, 'is_throttled': False, 'throttle_time_in_millis': 0}, 'get': {'total': 0, 'time_in_millis': 0, 'exists_total': 0, 'exists_time_in_millis': 0, 'missing_total': 0, 'missing_time_in_millis': 0, 'current': 0}, 'search': {'open_contexts': 0, 'query_total': 0, 'query_time_in_millis': 0, 'query_current': 0, 'fetch_total': 0, 'fetch_time_in_millis': 0, 'fetch_current': 0, 'scroll_total': 0, 'scroll_time_in_millis': 0, 'scroll_current': 0, 'suggest_total': 0, 'suggest_time_in_millis': 0, 'suggest_current': 0}, 'merges': {'current': 0, 'current_docs': 0, 'current_size_in_bytes': 0, 'total': 2, 'total_time_in_millis': 913, 'total_docs': 3322, 'total_size_in_bytes': 3316977, 'total_stopped_time_in_millis': 0, 'total_throttled_time_in_millis': 0, 'total_auto_throttle_in_bytes': 20971520}, 'refresh': {'total': 30, 'total_time_in_millis': 975, 'external_total': 30, 'external_total_time_in_millis': 998, 'listeners': 0}, 'flush': {'total': 0, 'periodic': 0, 'total_time_in_millis': 0}, 'warmer': {'current': 0, 'total': 29, 'total_time_in_millis': 3}, 'query_cache': {'memory_size_in_bytes': 0, 'total_count': 0, 'hit_count': 0, 'miss_count': 0, 'cache_size': 0, 'cache_count': 0, 'evictions': 0}, 'fielddata': {'memory_size_in_bytes': 0, 'evictions': 0}, 'completion': {'size_in_bytes': 0}, 'segments': {'count': 10, 'memory_in_bytes': 28392, 'terms_memory_in_bytes': 20800, 'stored_fields_memory_in_bytes': 4944, 'term_vectors_memory_in_bytes': 0, 'norms_memory_in_bytes': 1280, 'points_memory_in_bytes': 0, 'doc_values_memory_in_bytes': 1368, 'index_writer_memory_in_bytes': 5355924, 'version_map_memory_in_bytes': 711562, 'fixed_bit_set_memory_in_bytes': 0, 'max_unsafe_auto_id_timestamp': -1, 'file_sizes': {}}, 'translog': {'operations': 9849, 'size_in_bytes': 9230983, 'uncommitted_operations': 9849, 'uncommitted_size_in_bytes': 9230983, 'earliest_last_modified_age': 33}, 'request_cache': {'memory_size_in_bytes': 0, 'evictions': 0, 'hit_count': 0, 'miss_count': 0}, 'recovery': {'current_as_source': 0, 'current_as_target': 0, 'throttle_time_in_millis': 0}}, 'total': {'docs': {'count': 4838, 'deleted': 0}, 'store': {'size_in_bytes': 5802503, 'reserved_in_bytes': 0}, 'indexing': {'index_total': 9849, 'index_time_in_millis': 3676, 'index_current': 0, 'index_failed': 0, 'delete_total': 0, 'delete_time_in_millis': 0, 'delete_current': 0, 'noop_update_total': 0, 'is_throttled': False, 'throttle_time_in_millis': 0}, 'get': {'total': 0, 'time_in_millis': 0, 'exists_total': 0, 'exists_time_in_millis': 0, 'missing_total': 0, 'missing_time_in_millis': 0, 'current': 0}, 'search': {'open_contexts': 0, 'query_total': 0, 'query_time_in_millis': 0, 'query_current': 0, 'fetch_total': 0, 'fetch_time_in_millis': 0, 'fetch_current': 0, 'scroll_total': 0, 'scroll_time_in_millis': 0, 'scroll_current': 0, 'suggest_total': 0, 'suggest_time_in_millis': 0, 'suggest_current': 0}, 'merges': {'current': 0, 'current_docs': 0, 'current_size_in_bytes': 0, 'total': 2, 'total_time_in_millis': 913, 'total_docs': 3322, 'total_size_in_bytes': 3316977, 'total_stopped_time_in_millis': 0, 'total_throttled_time_in_millis': 0, 'total_auto_throttle_in_bytes': 20971520}, 'refresh': {'total': 30, 'total_time_in_millis': 975, 'external_total': 30, 'external_total_time_in_millis': 998, 'listeners': 0}, 'flush': {'total': 0, 'periodic': 0, 'total_time_in_millis': 0}, 'warmer': {'current': 0, 'total': 29, 'total_time_in_millis': 3}, 'query_cache': {'memory_size_in_bytes': 0, 'total_count': 0, 'hit_count': 0, 'miss_count': 0, 'cache_size': 0, 'cache_count': 0, 'evictions': 0}, 'fielddata': {'memory_size_in_bytes': 0, 'evictions': 0}, 'completion': {'size_in_bytes': 0}, 'segments': {'count': 10, 'memory_in_bytes': 28392, 'terms_memory_in_bytes': 20800, 'stored_fields_memory_in_bytes': 4944, 'term_vectors_memory_in_bytes': 0, 'norms_memory_in_bytes': 1280, 'points_memory_in_bytes': 0, 'doc_values_memory_in_bytes': 1368, 'index_writer_memory_in_bytes': 5355924, 'version_map_memory_in_bytes': 711562, 'fixed_bit_set_memory_in_bytes': 0, 'max_unsafe_auto_id_timestamp': -1, 'file_sizes': {}}, 'translog': {'operations': 9849, 'size_in_bytes': 9230983, 'uncommitted_operations': 9849, 'uncommitted_size_in_bytes': 9230983, 'earliest_last_modified_age': 33}, 'request_cache': {'memory_size_in_bytes': 0, 'evictions': 0, 'hit_count': 0, 'miss_count': 0}, 'recovery': {'current_as_source': 0, 'current_as_target': 0, 'throttle_time_in_millis': 0}}}}}INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9999 (Press CTRL+C to quit)
```

## Navigate to the landing page 
- Now access our front-end at: http://0.0.0.0:9999


- To begin, you can type any words or phrases into the search box, and you can use the selections provided in dropdown menus to further filter our corpus. First, you can filter by subreddit - the Wallstreetbets subreddit has proven to be the most interesting subreddit to filter by (the profanity is pretty funny). Next, you can filter by sentiments. There are multiple sentiments to search through in our corpus, we have provided Vader sentiments and the Turker's sentiments for filtering. Lastly, we have given the start-end filters, to search for specific reddit posts in a specified timeframe. 
​
- After this, you can click on the search box and press `enter` on your keyboard. (**Note**: you do need to click on the search box to proceed, otherwise the search might not work)
​
- Scroll through the results and have fun!! 
​
- If you want to explore other posts, press `search again` and it would take you back to searching page.
​
*PS, we found that the word "iphone" was mostly linked to positive posts, while the word "trump" was mostly linked to negative posts. Let us know any funny posts/keywords you find! Thank you for reading this and reviewing our work!*

